<!DOCTYPE html>
<html lang="en">
<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>MomCare Dashboard</title>
		<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="h-full" style="background-color:#a6d6dc; font-family: 'Poppins', sans-serif;">

	<!-- Header -->
	<header class="bg-green-900 text-white">
		<div class="max-w-7xl mx-auto px-6 py-6">
			<div class="flex items-center justify-between relative">
				<div class="flex items-center gap-6">
					<img src="/images/momcare_logo_white.png" alt="MomCare" class="h-16 w-auto" />
					<div>
						<h1 class="text-xl font-light">How are you today, {{ person }}!</h1>
						<p class="mt-1 text-sm opacity-90">Today: November 2025</p>
					</div>
				</div>

				<button id="menu-toggle" class="p-3 md:p-2 rounded-md mr-2 focus:outline-none" aria-label="Open menu" aria-expanded="false" aria-controls="menu-list">
					<svg class="h-8 w-8 text-[#ffcc48]" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24"><path d="M3 6h18v2H3zM3 11h18v2H3zM3 16h18v2H3z"/></svg>
				</button>

				<!-- Overlay for off-canvas menu -->
				<div id="overlay" class="fixed inset-0 bg-black bg-opacity-40 hidden z-40"></div>

				<!-- Off-canvas side menu -->
				<aside id="side-menu" class="fixed top-0 right-0 h-full w-80 bg-white text-green-900 transform translate-x-full transition-transform duration-300 z-50 shadow-lg" aria-hidden="true">
					<div class="flex items-center justify-between px-4 py-4 border-b">
						<div class="flex items-center gap-3">
							<img class="h-10 w-auto" src="/images/momcare_logo_colored.png" alt="MomCare">
						</div>
						<button id="side-close" aria-label="Close menu" class="p-2 rounded hover:bg-gray-100">
							<svg class="h-6 w-6 text-green-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
							</svg>
						</button>
					</div>
					<nav class="px-4 py-6 space-y-2">
						<a href="#" class="block px-3 py-2 rounded hover:bg-green-50">My Account</a>
						<a href="/dashboard" class="block px-3 py-2 rounded hover:bg-green-50">Dashboard</a>
						<a href="#" class="block px-3 py-2 rounded hover:bg-green-50">Daily Tasks</a>
						<a href="#" class="block px-3 py-2 rounded hover:bg-green-50">Budget & Expenses</a>
						<a href="#" class="block px-3 py-2 rounded hover:bg-green-50">Mood & Wellness</a>
						<a href="/" class="block px-3 py-2 rounded hover:bg-green-50">Sign out</a>
					</nav>
				</aside>
			</div>
		</div>
	</header>

	<main class="max-w-7xl mx-auto px-6 py-8">
		<!-- Three cards -->
		<div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
			<!-- Card 1 -->
			<div class="rounded-lg overflow-hidden bg-white shadow">
				<div class="px-6 py-4 bg-[#ffcc48] text-center font-semibold text-white">Daily Task</div>
				<div class="p-6">
					<ul class="space-y-3 text-[#104b0b]">
						<li>
							<label class="flex items-center gap-3 cursor-pointer">
								<input type="checkbox" data-index="0" class="task-checkbox h-5 w-5 accent-[#104b0b] rounded" />
								<span class="task-label">task 1</span>
							</label>
						</li>
						<li>
							<label class="flex items-center gap-3 cursor-pointer">
								<input type="checkbox" data-index="1" class="task-checkbox h-5 w-5 accent-[#104b0b] rounded" />
								<span class="task-label">task 2</span>
							</label>
						</li>
						<li>
							<label class="flex items-center gap-3 cursor-pointer">
								<input type="checkbox" data-index="2" class="task-checkbox h-5 w-5 accent-[#104b0b] rounded" />
								<span class="task-label">task 3</span>
							</label>
						</li>
					</ul>
					<p id="progress" class="mt-4 text-sm text-[#104b0b]">Progress: 0%</p>
					<div class="mt-6 text-center">
						<button class="px-6 py-2 rounded-full bg-[#ffcc48] text-white font-medium">View All Task</button>
					</div>
				</div>
			</div>

			<!-- Card 2 -->
			<div class="rounded-lg overflow-hidden bg-white shadow">
				<div class="px-6 py-4 bg-[#fa990e] text-center font-semibold text-white">Budget & Expense</div>
				<div class="p-6 text-[#104b0b]">
					<p class="mb-3">Monthly Budget:</p>
					<p class="mb-3">Total Spent:</p>
					<p class="mb-3">Top Expense:</p>
					<div class="mt-6 text-center">
						<button class="px-6 py-2 rounded-full bg-[#fa990e] text-white font-medium">View Budget</button>
					</div>
				</div>
			</div>

			<!-- Card 3 -->
			<div class="rounded-lg overflow-hidden bg-white shadow">
				<div class="px-6 py-4 bg-[#5a8d25] text-center font-semibold text-white">Mood &Wellness</div>
				<div class="p-6 text-[#104b0b]">
					<p class="mb-2">Mood Today:</p>
					<p class="mb-2">Stress Level:</p>
					<p class="mb-2">Wellness:</p>
					<div class="mt-6 text-center">
						<button class="px-6 py-2 rounded-full bg-[#5a8d25] text-white font-medium">Log Mood</button>
					</div>
				</div>
			</div>
		</div>

		<!-- Snapshot panels -->
		<div class="space-y-6">
			<div class="bg-white rounded-lg p-6 shadow text-[#104b0b]">Today's Snapshot:</div>

			<div class="bg-white rounded-lg p-6 shadow flex flex-col md:flex-row md:items-center md:justify-between text-[#104b0b]">
				<div>Task: <strong>3 Pending</strong></div>
				<div class="md:text-center">Budget: <span class="underline">_______</span> remaining</div>
				<div>Mood: </div>
			</div>
		</div>
	</main>

	<script>
		// Off-canvas menu: open/close side menu with overlay, outside click, Escape
		const toggle = document.getElementById('menu-toggle');
		const sideMenu = document.getElementById('side-menu');
		const overlay = document.getElementById('overlay');
		const sideClose = document.getElementById('side-close');

		function openSideMenu() {
			sideMenu.classList.remove('translate-x-full');
			sideMenu.setAttribute('aria-hidden', 'false');
			overlay.classList.remove('hidden');
			toggle.setAttribute('aria-expanded', 'true');
			// optional: trap focus
		}

		function closeSideMenu() {
			sideMenu.classList.add('translate-x-full');
			sideMenu.setAttribute('aria-hidden', 'true');
			overlay.classList.add('hidden');
			toggle.setAttribute('aria-expanded', 'false');
		}

		if (toggle && sideMenu && overlay) {
			toggle.addEventListener('click', (e) => {
				e.stopPropagation();
				if (sideMenu.classList.contains('translate-x-full')) openSideMenu(); else closeSideMenu();
			});

			sideClose.addEventListener('click', closeSideMenu);
			overlay.addEventListener('click', closeSideMenu);

			document.addEventListener('keydown', (e) => {
				if (e.key === 'Escape') closeSideMenu();
			});
		}

		// --- Task checklist logic ---
		(function() {
			const checkboxSelector = '.task-checkbox';
			const progressEl = document.getElementById('progress');
			const checkboxes = Array.from(document.querySelectorAll(checkboxSelector));
			const storageKey = 'momcare_tasks_v1';

			function loadState() {
				try {
					const raw = localStorage.getItem(storageKey);
					if (!raw) return;
					const arr = JSON.parse(raw);
					checkboxes.forEach((cb, i) => {
						cb.checked = !!arr[i];
						toggleLabelState(cb);
					});
					updateProgress();
				} catch (e) {
					console.warn('Failed to load task state', e);
				}
			}

			function saveState() {
				const arr = checkboxes.map(cb => cb.checked);
				localStorage.setItem(storageKey, JSON.stringify(arr));
			}

			function updateProgress() {
				const total = checkboxes.length;
				const done = checkboxes.filter(cb => cb.checked).length;
				const pct = total === 0 ? 0 : Math.round((done / total) * 100);
				if (progressEl) progressEl.textContent = `Progress: ${pct}%`;
			}

			function toggleLabelState(cb) {
				const label = cb.closest('label');
				const text = label && label.querySelector('.task-label');
				if (!text) return;
				if (cb.checked) {
					text.classList.add('line-through', 'text-gray-500');
				} else {
					text.classList.remove('line-through', 'text-gray-500');
				}
			}

			checkboxes.forEach(cb => {
				cb.addEventListener('change', () => {
					toggleLabelState(cb);
					updateProgress();
					saveState();
				});
			});

			// initialize
			loadState();
			updateProgress();
		})();
	</script>

</body>
</html>


